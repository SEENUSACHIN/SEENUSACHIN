<div class="myTeamlist">
  <nav>
    <app-navbar></app-navbar>
  </nav>
  <header>
    <div class="d-flex">
      <div class="p-2">
        <h3>My Team</h3>
      </div>
      <div class="ms-auto p-2">
        <button
          type="button"
          class="btn myBtn"
          (click)="myTeamDetails()"
          data-bs-toggle="modal"
          data-bs-target="#exampleModal"
        >
          <i class="bi bi-plus-lg"></i> New Team
        </button>
      </div>
    </div>
  </header>
  <main>
    <div class="teamlistArea">
      <div class="container text-center">
        <div class="row">
          <div class="col">
            <ul class="list-group list-unstyled" *ngFor="let data of myteam">
              <!-- <li class="list-group-item">
                <div class="card mb-1">
                  <div class="row g-0">
                    <div class="col-sm-2 teamImg">
                      <figure>
                        <img
                          src="../assets/sample.jpg"
                          class="teamListimage"
                          alt="..."
                        />
                      </figure>
                    </div>
                    <div class="col-md-10">
                      <div class="card-body">
                        <div class="d-flex justify-content-between">
                          <h5 class="card-title">Team Warriors(3)</h5>
                          <span>Team Atom : <b>13500</b></span>
                        </div>
                        <div class="container">
                          <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3">
                            <div class="col">
                              <img
                                src="../assets/test1.jpg"
                                class="teamMembers"
                                alt="..."
                              />
                            </div>
                            <div class="col">
                              <img
                                src="../assets/test1.jpg"
                                class="teamMembers"
                                alt="..."
                              />
                            </div>
                            <div class="col">
                              <img
                                src="../assets/test1.jpg"
                                class="teamMembers"
                                alt="..."
                              />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </li> -->
              <li class="list-group-item" >
                <div class="card mb-1 myteamMembercard">
                  <div
                    class="row g-0"
                    data-bs-toggle="modal"
                    data-bs-target="#exampleModal"
                  >
                  <div class="col-md-2 teamImg">
                      <img *ngIf="myteam.team_pic != null"
                        [src]="myteam.team_pic"
                        class="img-fluid rounded-start"
                        alt="..."
                      />
                      <img *ngIf="myteam.team_pic == null"
                        src="../assets/test1.jpg"
                        class="img-fluid rounded-start"
                        alt="..."
                      />
                    </div>
                    <div class="col-md-10 g-1">
                      <div class="card-body p-1">
                        <div class="d-flex justify-content-between">
                          <h5 class="card-title">
                            {{ data.team_name }} - ({{ data.count }})
                          </h5>
                          <span
                            >Team Atom : <b>{{ data.team_atoms }}</b></span
                          >
                        </div>
                        <div>
                          <div class="">
                            <ul class="d-flex justify-content-start list-unstyled row-12 px-1" >
                              <li                                     *ngFor="let member of data['teamMem']"
                              >
                                <div class="col w-100 justify-content-around">
                                  <div
                                    class="card member"
                                  >
                                    <div class="row g-0">
                                      <div class="col-md-4 teamImg">
                                        <img
                                          src="../assets/profile-3.jpg"
                                          class="img-fluid rounded-start teamMembersImg"
                                          alt="..."
                                        />
                                      </div>
                                      <div class="col-md-8">
                                        <div class="card-body">
                                          <h6 class="card-title">
                                            {{ member.first_name }}
                                          </h6>
                                          <p class="card-text">
                                            <figcaption>
                                              <b>{{ member.atoms }}</b>
                                              <img
                                                class="atomicon"
                                                src="../assets/neutron B.png"
                                                alt=""
                                              />
                                            </figcaption>
                                          </p>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <!-- <li class="list-group-item">
                <div class="card mb-1">
                  <div class="row g-0" data-bs-toggle="modal" data-bs-target="#exampleModal">
                    <div class="col-md-2 teamImg ">
                      <img src="../assets/test1.jpg" class="teamListimage" alt="...">
                    </div>
                    <div class="col-md-10">
                      <div class="card-body">
                        <h5 class="card-title">Team Warriors</h5>
                        <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                          additional content. This content is a little bit longer.</p>
                        <div class="container">
                          <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3">
                            <div class="col">
                              <div class="p-3  ">
                                <img src="../assets/test1.jpg" class="teamMembers" alt="...">
                                <span>4600</span>
                              </div>
                            </div>
                            <div class="col">
                              <div class="p-3 ">
                                <img src="../assets/test1.jpg" class="teamMembers" alt="...">
                                <span>4600</span>
                              </div>
                            </div>
                            <div class="col">
                              <div class="p-3  ">
                                <img src="../assets/test1.jpg" class="teamMembers" alt="...">
                                <span>4600</span>
                              </div>
                            </div>
                            <div class="col">
                              <div class="p-3  ">
                                <img src="../assets/test1.jpg" class="teamMembers" alt="...">
                                <span>4600</span>
                              </div>
                            </div>
                            <div class="col">
                              <div class="p-3 ">
                                <img src="../assets/test1.jpg" class="teamMembers" alt="...">
                                <span>4600</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </li> -->
            </ul>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Modal -->
  <div
    class="modal fade"
    id="exampleModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Create New Team</h5>
          <button
            type="button"
            class="btn-close"
            #closebutton
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div class="card-body">
            <!-- <form [formGroup]="createTeam" #formDir="ngForm">
          <label class="hoverable d-flex justify-content-center" for="fileInput">
            <img class="uploadTeamImg" [src]="url ? url : 'https://www.w3schools.com/howto/img_avatar.png'">
          </label>
          <br />
          <input id="fileInput" type='file' (change)="onSelectFile($event)">
              <h6 class="heading-small text-muted mb-4">Team information</h6>
              <div class="pl-lg-4">
                <div class="row">
                  <div class="col-lg-12">
                  </div>
                </div>
                <div class="row">
                  <div class='col'>
                  <div class="cross-validation"
                  [class.cross-validation-error]="createTeam.errors?.['identityRevealed'] && (createTeam.touched || createTeam.dirty)">
                  <div class="mb-3 form-group">
                    <input type="email" name="members" class=" emailInput" formControlName="members" id="members"
              placeholder="Email" required>
                    <div *ngIf="members.invalid && (members.dirty || members.touched)" class="alert alert-danger">
                      <div *ngIf="members.errors?.['required']">
                        Email is required.
                      </div>
                      <div *ngIf="members.errors?.['required']">
                        Email format is wrong.
                      </div>
                    </div>
                  </div>
                  </div>
                  </div>
                </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label" for="input-email">Team Name</label>
                      <input type="email" id="input-email" class="form-control form-control-alternative"
                        placeholder="Email">
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <div class="form-group">
                      <label class="form-control-label" for="input-email">Email Address</label>
                      <input type="email" id="input-email" class="form-control form-control-alternative"
                        placeholder="Email">
                    </div>
                  </div>
                </div>
            </form> -->
            <form [formGroup]="createTeam" #formDir="ngForm">
              <label
                class="hoverable d-flex justify-content-center"
                for="fileInput"
              >
                <img
                  class="uploadTeamImg"
                  [src]="
                    url ? url : 'https://www.w3schools.com/howto/img_avatar.png'
                  "
                />
              </label>
              <br />
              <input
                id="fileInput"
                type="file"
                (change)="onSelectFile($event)"
              />
              <div class="d-flex justify-content-between">
                <div>
                  <h6 class="heading-small text-muted mb-4">
                    Team information
                  </h6>
                </div>
                <div>
                  <button
                    class="btn btn-success"
                    (click)="addedmemberlist(teamId)"
                  >
                    Add
                  </button>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="center-block"
                      >Team Name:
                      <input class="form-control" formControlName="team_name" />
                    </label>
                  </div>
                  <div
                    *ngIf="
                      createTeam.controls['team_name'].invalid &&
                      (createTeam.controls['team_name'].dirty ||
                        createTeam.controls['team_name'].touched)
                    "
                    class="alert"
                  >
                    <div
                      class="errormsg"
                      *ngIf="createTeam.controls['team_name'].errors"
                    >
                      Please enter your Team name
                    </div>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="center-block"
                      >Member Email:
                      <input
                        class="form-control"
                        formControlName="members"
                        required
                      />
                    </label>
                  </div>
                  <div
                    *ngIf="
                      createTeam.controls['members'].invalid &&
                      (createTeam.controls['members'].dirty ||
                        createTeam.controls['members'].touched)
                    "
                    class="alert"
                  >
                    <div
                      class="errormsg"
                      *ngIf="createTeam.controls['members'].errors"
                    >
                      Please enter member email
                    </div>
                  </div>
                </div>
                <div class="members list">
                  <div class="row m-3">
                    <div class="col-8">
                      <ul class="list-unstyled align-items-center">
                        <li>
                          <table class="table">
                            <thead>
                              <tr>
                                <!-- <th>User</th>
                    <th>Status</th>
                    <th>Location</th>
                    <th>Email</th>
                    <th>Congratulate</th> -->
                                <th scope="col">Team Name</th>
                                <th scope="col">Members</th>
                                <th scope="col">
                                  Atoms
                                  <img
                                    class="atomicon"
                                    src="../assets/atom.png"
                                    alt=""
                                  />
                                </th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let totalList of addedteamlList">
                                <!-- <td>
                      <div class="d-flex align-items-center">
                        <img src="img/user1.jpg" class="circle-img circle-img--small mr-2" alt="User Img">
                        <div class="user-info__basic">
                          <h5 class="mb-0">Kiran Acharya</h5>
                          <p class="text-muted mb-0">@kiranacharyaa</p>
                        </div>
                      </div>
                    </td>
                    <td>
                      <div class="d-flex align-items-baseline">
                        <h4 class="mr-1">$1,253</h4><small class="text-success"><i class="fa fa-arrow-up"></i>5%</small>
                      </div>
                    </td>
                    <td>Bangalore</td>
                    <td>kiran@kiranmail.com</td>
                    <td>
                      <button class="btn btn-success btn-sm">Congratulate</button>
                    </td> -->
                                <td>
                                  <!-- <img [src]="totalList.team_pic || '../assets/images/msg.png'" class="  rounded rankImg" alt="..."  alt="..."> <b class='p-2 h5'>{{totalList.team_name}}</b> -->
                                  <div class="d-flex align-items-center">
                                    <img
                                      [src]="
                                        totalList.team_pic ||
                                        '../assets/images/msg.png'
                                      "
                                      class="circle-img circle-img--small mr-2"
                                      alt="User Img"
                                    />
                                    <div class="user-info__basic">
                                      <h5 class="mb-0">
                                        {{ totalList.team_name }}
                                      </h5>
                                      <!-- <p class="text-muted mb-0">@sandeep</p> -->
                                    </div>
                                  </div>
                                </td>
                                <td>
                                  <div class="d-flex align-items-baseline">
                                    <h4 class="mr-1">{{ totalList.count }}</h4>
                                    <!-- <small class="text-success"><i class="fa fa-arrow-up"></i>5%</small> -->
                                  </div>
                                </td>
                                <td>
                                  <div class="d-flex align-items-baseline">
                                    <!-- <td>{{totalList.count}}</td> -->
                                    <h4 class="mr-1">
                                      {{ totalList.team_atoms
                                      }}<img
                                        class="atomicon"
                                        src="../assets/atom.png"
                                        alt=""
                                      />
                                    </h4>
                                  </div>
                                </td>
                                <!-- <td>{{totalList.team_atoms}} </td> -->
                              </tr>
                            </tbody>
                          </table>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Close
          </button>
          <button
            type="button"
            #closebutton
            class="btn btn-primary"
            (click)="createNewTeam()"
          >
            Create
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
